<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤šè§†è§’éº»å°†ç‰Œè°±ç³»ç»Ÿæµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #2196F3;
        }
        .header h1 {
            margin: 0;
            color: #1976D2;
        }
        .section {
            margin-bottom: 25px;
            padding: 15px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background-color: #fafafa;
        }
        .section h3 {
            margin-top: 0;
            color: #333;
            border-bottom: 2px solid #2196F3;
            padding-bottom: 10px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }
        input, textarea, select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            box-sizing: border-box;
        }
        textarea {
            min-height: 60px;
            resize: vertical;
        }
        .help-text {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        .form-row-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }
        .form-row-4 {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }
        
        /* å¤šè§†è§’ç‰Œæ¡Œå¸ƒå±€ */
        .table-layout {
            display: grid;
            grid-template-areas: 
                ". top ."
                "left center right"
                ". bottom .";
            grid-template-columns: 250px 1fr 250px;
            grid-template-rows: 180px 1fr 180px;
            gap: 10px;
            margin: 20px auto;
            background: white;
            padding: 15px;
            border: 2px solid #333;
            border-radius: 8px;
            max-width: 800px;
            min-height: 550px;
        }
        .player-area {
            background: white;
            border: 1px solid #999;
            border-radius: 4px;
            padding: 8px;
            font-size: 11px;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        .player-top { 
            grid-area: top; 
            transform: rotate(180deg);
        }
        .player-right { 
            grid-area: right; 
            transform: rotate(-90deg);
        }
        .player-bottom { 
            grid-area: bottom; 
        }
        .player-left { 
            grid-area: left; 
            transform: rotate(90deg);
        }
        .center-info { 
            grid-area: center; 
            background: #fafafa;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 12px;
        }
        
        .player-header {
            font-weight: bold;
            color: #333;
            margin-bottom: 6px;
            padding: 3px;
            text-align: center;
            border-bottom: 1px solid #ddd;
            font-size: 11px;
        }
        .player-header.main-view {
            background: #e3f2fd;
            color: #1976d2;
            border-bottom: 1px solid #1976d2;
        }
        
        .player-info {
            font-size: 10px;
            margin-bottom: 5px;
            text-align: center;
        }
        
        .hand-tiles {
            margin: 3px 0;
            font-size: 10px;
        }
        
        .melds-display {
            margin: 3px 0;
            font-size: 10px;
        }
        
        .discarded-area {
            padding: 3px;
            background: #f9f9f9;
            border: 1px solid #eee;
            border-radius: 3px;
            min-height: 40px;
            flex: 1;
        }
        
        .discard-row {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 1px;
        }
        
        .tile {
            display: inline-block;
            background: white;
            border: 1px solid #666;
            padding: 1px 2px;
            margin: 0.5px;
            border-radius: 2px;
            font-size: 14px;
            min-width: 18px;
            text-align: center;
            font-family: "Segoe UI Emoji", "Apple Color Emoji", "Noto Color Emoji", sans-serif;
            line-height: 1.1;
        }
        
        .tile.hand-cut {
            background: #f0f0f0;
            border-color: #999;
        }
        
        .tile.auto-cut {
            background: white;
            border-color: #666;
        }
        
        .tile.riichi {
            background: #ffe6e6;
            border-color: #ff9999;
            transform: rotate(90deg);
            margin: 0.5px 4px;
        }
        
        .riichi-stick {
            position: absolute;
            width: 30px;
            height: 3px;
            background: #ff4444;
            border-radius: 1px;
            border: 1px solid #cc0000;
            top: 5px;
            right: 5px;
            z-index: 10;
        }
        
        .riichi-stick::before {
            content: "ç«‹ç›´";
            position: absolute;
            top: -15px;
            right: -5px;
            font-size: 8px;
            color: #cc0000;
            font-weight: bold;
        }
        
        .dora-display {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 3px;
            padding: 4px;
            margin: 3px 0;
            font-weight: bold;
            font-size: 11px;
        }
        
        .game-status {
            margin: 2px 0;
            font-size: 11px;
        }
        
        .current-turn-indicator {
            color: #ff6b35;
            font-weight: bold;
        }
        
        .melds-area {
            border: 1px solid #ddd;
            padding: 5px;
            margin: 5px 0;
            background: #f5f5f5;
            border-radius: 4px;
            min-height: 30px;
        }
        
        .tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }
        .tab {
            padding: 12px 24px;
            cursor: pointer;
            border: none;
            background: none;
            border-bottom: 2px solid transparent;
            margin-right: 2px;
        }
        .tab.active {
            border-bottom-color: #2196F3;
            background: #f0f8ff;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        
        .button {
            background: #2196F3;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            margin-right: 10px;
            margin-top: 10px;
        }
        .button:hover {
            background: #1976D2;
        }
        .button.secondary {
            background: #757575;
        }
        .button.secondary:hover {
            background: #616161;
        }
        .button.success {
            background: #4CAF50;
        }
        .button.success:hover {
            background: #45a049;
        }
        
        .alert {
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
        }
        .alert.success {
            background: #e8f5e8;
            border: 1px solid #4CAF50;
            color: #2e7d32;
        }
        .alert.warning {
            background: #fff3e0;
            border: 1px solid #ff9800;
            color: #f57c00;
        }
        .alert.info {
            background: #e3f2fd;
            border: 1px solid #2196F3;
            color: #1565C0;
        }
        
        .validation-info {
            background: #fff3e0;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            border-left: 4px solid #ff9800;
        }
        .validation-info.valid {
            background: #e8f5e8;
            border-left-color: #4CAF50;
        }
        .validation-info.invalid {
            background: #ffebee;
            border-left-color: #f44336;
        }
        
        @media (max-width: 1200px) {
            .table-layout {
                grid-template-columns: 250px 1fr 250px;
            }
        }
        @media (max-width: 900px) {
            .table-layout {
                grid-template-areas: 
                    "top"
                    "center"
                    "left"
                    "right"
                    "bottom";
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto auto auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ€„ å¤šè§†è§’éº»å°†ç‰Œè°±ç³»ç»Ÿæµ‹è¯•</h1>
            <p>æ”¯æŒå››ç©å®¶å®Œæ•´ç‰Œå±€çŠ¶æ€è®°å½•ï¼ŒåŒ…å«æ‰‹åˆ‡/æ‘¸åˆ‡å¼ƒç‰Œåˆ†æ</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('setup')">ğŸ¯ åœºå†µè®¾ç½®</button>
            <button class="tab" onclick="showTab('input')">ğŸ“ ç‰Œå±€è¾“å…¥</button>
            <button class="tab" onclick="showTab('preview')">ğŸ‘ï¸ ç‰Œæ¡Œé¢„è§ˆ</button>
            <button class="tab" onclick="showTab('records')">ğŸ“š ç‰Œè°±æµè§ˆ</button>
            <button class="tab" onclick="showTab('help')">ğŸ“– æ ¼å¼è¯´æ˜</button>
        </div>

        <!-- åœºå†µè®¾ç½® -->
        <div id="setup" class="tab-content active">
            <div class="section">
                <h3>ğŸ® åŸºæœ¬ä¿¡æ¯</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="title">ç‰Œè°±æ ‡é¢˜ *</label>
                        <input type="text" id="title" placeholder="ä¾‹ï¼šå¤šè§†è§’è¯»ç‰Œç»ƒä¹ ">
                    </div>
                    <div class="form-group">
                        <label for="source">æ¥æº</label>
                        <input type="text" id="source" placeholder="ä¾‹ï¼šéº»å°†è¿›é˜¶æ•™ç¨‹ ç¬¬5ç« ">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="category">åˆ†ç±»</label>
                        <select id="category">
                            <option value="basic_patterns">åŸºç¡€ç‰Œå‹</option>
                            <option value="defensive_play">é˜²å®ˆæŠ€å·§</option>
                            <option value="offensive_play">è¿›æ”»æŠ€å·§</option>
                            <option value="endgame">ç»ˆç›˜æŠ€å·§</option>
                            <option value="riichi_strategy">ç«‹ç›´ç­–ç•¥</option>
                            <option value="tile_efficiency">æ•ˆç‡æ‰“æ³•</option>
                            <option value="reading_opponents" selected>è¯»ç‰ŒæŠ€å·§</option>
                            <option value="professional_games">èŒä¸šå¯¹å±€</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="tags">æ ‡ç­¾ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰</label>
                        <input type="text" id="tags" placeholder="ä¾‹ï¼šå¤šè§†è§’, è¯»ç‰Œ, é˜²å®ˆ">
                    </div>
                </div>
            </div>

            <div class="section">
                <h3>ğŸ¯ åœºå†µè®¾ç½®</h3>
                <div class="form-row-4">
                    <div class="form-group">
                        <label for="mainViewPlayer">ä¸»è§†è§’ç©å®¶ *</label>
                        <select id="mainViewPlayer" onchange="updateTableLayout()">
                            <option value="east">ä¸œå®¶</option>
                            <option value="south" selected>å—å®¶</option>
                            <option value="west">è¥¿å®¶</option>
                            <option value="north">åŒ—å®¶</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="windRound">åœºé£</label>
                        <select id="windRound">
                            <option value="east" selected>ä¸œåœº</option>
                            <option value="south">å—åœº</option>
                            <option value="west">è¥¿åœº</option>
                            <option value="north">åŒ—åœº</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="roundNumber">å±€æ•°</label>
                        <select id="roundNumber">
                            <option value="1" selected>1å±€</option>
                            <option value="2">2å±€</option>
                            <option value="3">3å±€</option>
                            <option value="4">4å±€</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="honbaCount">æœ¬åœºæ•°</label>
                        <input type="number" id="honbaCount" value="0" min="0">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="currentTurn">å½“å‰è½®åˆ°</label>
                        <select id="currentTurn">
                            <option value="east">ä¸œå®¶</option>
                            <option value="south" selected>å—å®¶</option>
                            <option value="west">è¥¿å®¶</option>
                            <option value="north">åŒ—å®¶</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="riichiSticks">ç«‹ç›´æ£’</label>
                        <input type="number" id="riichiSticks" value="0" min="0">
                    </div>
                    <div class="form-group">
                        <label>å½“å‰å·¡ç›®</label>
                        <div id="currentTurnDisplay" style="padding: 8px; background: #f5f5f5; border: 1px solid #ddd; border-radius: 4px; font-weight: bold;">
                            è‡ªåŠ¨è®¡ç®—ä¸­...
                        </div>
                    </div>
                    <div class="form-group">
                        <label>å‰©ä½™ç‰Œæ•°</label>
                        <div id="remainingTilesDisplay" style="padding: 8px; background: #f5f5f5; border: 1px solid #ddd; border-radius: 4px; font-weight: bold;">
                            è‡ªåŠ¨è®¡ç®—ä¸­...
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="doraIndicators">å®ç‰ŒæŒ‡ç¤ºç‰Œ *</label>
                    <input type="text" id="doraIndicators" placeholder="ä¾‹ï¼š5m 3p" required>
                    <div class="help-text">ç”¨ç©ºæ ¼æˆ–é€—å·åˆ†éš”å¤šä¸ªæŒ‡ç¤ºç‰Œ</div>
                </div>
            </div>

            <button class="button" onclick="showTab('input')">ğŸ“ ä¸‹ä¸€æ­¥ï¼šè¾“å…¥ç‰Œå±€</button>
        </div>

        <!-- ç‰Œå±€è¾“å…¥ -->
        <div id="input" class="tab-content">
            <div id="playerInputSections">
                <!-- åŠ¨æ€ç”Ÿæˆå››ä¸ªç©å®¶çš„è¾“å…¥åŒºåŸŸ -->
            </div>
            
            <div class="validation-info" id="overallValidation">
                <strong>æ•´ä½“éªŒè¯ï¼š</strong><span id="overallValidationInfo">è¯·å®Œå–„å„ç©å®¶ä¿¡æ¯</span>
            </div>

            <button class="button success" onclick="loadSampleData()">ğŸ“ åŠ è½½ç¤ºä¾‹æ•°æ®</button>
            <button class="button" onclick="uploadRecord()">ğŸ’¾ ä¿å­˜ç‰Œè°±</button>
            <button class="button secondary" onclick="clearAllInputs()">ğŸ—‘ï¸ æ¸…ç©ºæ‰€æœ‰</button>
            <button class="button" onclick="showTab('preview')">ğŸ‘ï¸ é¢„è§ˆç‰Œæ¡Œ</button>
        </div>

        <!-- ç‰Œæ¡Œé¢„è§ˆ -->
        <div id="preview" class="tab-content">
            <div class="table-layout" id="tablePreview">
                <!-- åŠ¨æ€ç”Ÿæˆç‰Œæ¡Œå¸ƒå±€ -->
            </div>
        </div>

        <!-- ç‰Œè°±æµè§ˆ -->
        <div id="records" class="tab-content">
            <div id="recordsList"></div>
        </div>

        <!-- æ ¼å¼è¯´æ˜ -->
        <div id="help" class="tab-content">
            <div class="section">
                <h3>ğŸ“– å¤šè§†è§’ç‰Œè°±ç‰¹ç‚¹</h3>
                <p>å¤šè§†è§’ç‰Œè°±è®°å½•å®Œæ•´çš„å››äººéº»å°†ç‰Œå±€çŠ¶æ€ï¼ŒåŒ…æ‹¬æ¯ä¸ªç©å®¶çš„æ‰‹ç‰Œã€å‰¯éœ²ã€å¼ƒç‰Œæ²³ç­‰ä¿¡æ¯ï¼Œé€‚ç”¨äºå¤æ‚çš„ç‰Œå±€åˆ†æå’Œæ•™å­¦ã€‚</p>
            </div>

            <div class="section">
                <h3>ğŸ¯ ä¸»è§†è§’è®¾ç½®</h3>
                <p>é€‰æ‹©ä¸»è§†è§’ç©å®¶åï¼Œç³»ç»Ÿä¼šæŒ‰ç…§éº»å°†æ¡Œçš„æ ‡å‡†å¸ƒå±€æ’åˆ—å››å®¶ï¼š</p>
                <ul>
                    <li><strong>ä¸‹æ–¹</strong>ï¼šä¸»è§†è§’ç©å®¶ï¼ˆæ˜¾ç¤ºå®Œæ•´æ‰‹ç‰Œï¼‰</li>
                    <li><strong>å³æ–¹</strong>ï¼šé¡ºæ—¶é’ˆä¸‹ä¸€å®¶</li>
                    <li><strong>ä¸Šæ–¹</strong>ï¼šå¯¹å®¶</li>
                    <li><strong>å·¦æ–¹</strong>ï¼šé€†æ—¶é’ˆä¸‹ä¸€å®¶</li>
                </ul>
            </div>

            <div class="section">
                <h3>ğŸ€„ å¼ƒç‰Œæ²³æ ¼å¼</h3>
                <p>å¼ƒç‰Œæ²³æ”¯æŒæ‰‹åˆ‡/æ‘¸åˆ‡æ ‡è®°ï¼š</p>
                <ul>
                    <li><strong>æ‘¸åˆ‡</strong>ï¼š1m 2p 3sï¼ˆæ­£å¸¸è¾“å…¥ï¼‰</li>
                    <li><strong>æ‰‹åˆ‡</strong>ï¼š1m* 2p* 3s*ï¼ˆåŠ æ˜Ÿå·æ ‡è®°ï¼‰</li>
                    <li><strong>ç«‹ç›´å®£è¨€</strong>ï¼š1m! 2p!ï¼ˆåŠ æ„Ÿå¹å·ï¼‰</li>
                </ul>
                <p>ç¤ºä¾‹ï¼š1z 2z* 3z 4z* 5z!ï¼ˆç¬¬2ã€4å¼ ä¸ºæ‰‹åˆ‡ï¼Œç¬¬5å¼ ä¸ºç«‹ç›´å®£è¨€ï¼‰</p>
            </div>

            <div class="section">
                <h3>ğŸ´ å‰¯éœ²æ ¼å¼</h3>
                <p>ä¸å•è§†è§’ç›¸åŒçš„å‰¯éœ²æ ¼å¼ï¼š</p>
                <ul>
                    <li><strong>åƒç‰Œ</strong>ï¼šåƒ123m(ä¸œ)</li>
                    <li><strong>ç¢°ç‰Œ</strong>ï¼šç¢°555s(å—)</li>
                    <li><strong>æ˜æ </strong>ï¼šæ˜æ 7777p(è¥¿)</li>
                    <li><strong>æš—æ </strong>ï¼šæš—æ 2222m</li>
                </ul>
            </div>

            <div class="section">
                <h3>ğŸ“ éªŒè¯è§„åˆ™</h3>
                <ul>
                    <li><strong>ä¸»è§†è§’ç©å®¶</strong>ï¼šå¿…é¡»è¾“å…¥æ‰‹ç‰Œï¼Œæ€»æ•°ä¸º13æˆ–14å¼ </li>
                    <li><strong>å…¶ä»–ç©å®¶</strong>ï¼šæ‰‹ç‰Œå¯é€‰ï¼Œä½†å¦‚æœ‰è¾“å…¥ä¹Ÿéœ€ç¬¦åˆ13/14å¼ è§„åˆ™</li>
                    <li><strong>å¼ƒç‰Œæ²³</strong>ï¼šæŒ‰æ—¶é—´é¡ºåºæ’åˆ—ï¼Œæ”¯æŒæ‰‹åˆ‡/æ‘¸åˆ‡æ ‡è®°</li>
                    <li><strong>ç«‹ç›´çŠ¶æ€</strong>ï¼šå¯æ ‡è®°å“ªäº›ç©å®¶å¤„äºç«‹ç›´çŠ¶æ€</li>
                    <li><strong>å½“å‰è½®æ¬¡</strong>ï¼šç³»ç»Ÿä¼šéªŒè¯å½“å‰è½®æ¬¡ç©å®¶çš„æ‰‹ç‰Œæ•°é‡å’Œå¼ƒç‰Œé€»è¾‘æ˜¯å¦åˆç†</li>
                    <li><strong>è‡ªåŠ¨è®¡ç®—</strong>ï¼šå½“å‰å·¡ç›®æ ¹æ®å¼ƒç‰Œæ²³æœ€å¤§ç‰Œæ•°è®¡ç®—ï¼Œå‰©ä½™ç‰Œæ•°æ ¹æ®æ‰€æœ‰æ˜¾éœ²ç‰Œè®¡ç®—</li>
                </ul>
            </div>

            <div class="section">
                <h3>ğŸ§  ç‰Œç†éªŒè¯</h3>
                <p>ç³»ç»Ÿä¼šè‡ªåŠ¨éªŒè¯å½“å‰è½®æ¬¡ç©å®¶çš„ç‰Œç†åˆç†æ€§ï¼š</p>
                <ul>
                    <li><strong>æ‰‹ç‰Œæ•°é‡</strong>ï¼šå½“å‰è½®æ¬¡ç©å®¶åº”æœ‰14å¼ ï¼ˆåˆšæ‘¸ç‰Œï¼‰æˆ–13å¼ ï¼ˆå·²æ‰“ç‰Œï¼‰</li>
                    <li><strong>å¼ƒç‰Œé€»è¾‘</strong>ï¼šå¼ƒç‰Œæ•°é‡åº”ä¸å…¶ä»–ç©å®¶çš„å¼ƒç‰Œæ•°é‡ä¿æŒåˆç†å·®è·</li>
                    <li><strong>å·¡ç›®è®¡ç®—</strong>ï¼šæ ¹æ®æ‰€æœ‰ç©å®¶å¼ƒç‰Œæ²³ä¸­çš„æœ€å¤§ç‰Œæ•°è‡ªåŠ¨è®¡ç®—å½“å‰å·¡ç›®</li>
                    <li><strong>çŠ¶æ€æç¤º</strong>ï¼š14å¼ =å‡†å¤‡æ‰“ç‰Œï¼Œ13å¼ =å¯èƒ½å·²å®Œæˆæœ¬è½®æ¬¡</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="multi-view-app.js"></script>
</body>
</html> 